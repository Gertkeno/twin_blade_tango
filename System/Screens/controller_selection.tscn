[gd_scene load_steps=22 format=3 uid="uid://k2km5cqcs06o"]

[ext_resource type="Theme" uid="uid://jnrndgwutnjh" path="res://Assets/Interface/font_theme.tres" id="1_0uy7a"]
[ext_resource type="Script" path="res://System/Screens/controller_selection.gd" id="1_p31u7"]
[ext_resource type="Texture2D" uid="uid://bxhoiix5g8rm4" path="res://Assets/Materials/circle_fade_gradient_texture_2d.tres" id="2_28xei"]
[ext_resource type="Texture2D" uid="uid://b7knrqx380ssg" path="res://Assets/Interface/character_left.png" id="2_axnes"]
[ext_resource type="Texture2D" uid="uid://c6l67bj70by3j" path="res://Assets/Interface/character_right.png" id="3_32eal"]
[ext_resource type="Texture2D" uid="uid://beignypy565w0" path="res://Assets/Interface/character_left_mask.png" id="3_q4yxf"]
[ext_resource type="PackedScene" uid="uid://1vlktamrmvom" path="res://Assets/Models/Characters/Pluma/SK_Pluma.fbx" id="5_541qc"]
[ext_resource type="Texture2D" uid="uid://dybu46gcjjjnb" path="res://Assets/Interface/character_right_mask.png" id="5_rp6jx"]
[ext_resource type="Material" uid="uid://w7c2p1jq0i1t" path="res://Assets/Models/Characters/Pluma/M_Pluma.tres" id="6_kfrui"]
[ext_resource type="AnimationLibrary" uid="uid://2vrjf75ll4jk" path="res://Assets/Models/Characters/Pluma/Animations/A_Female_FinalSelection.fbx" id="7_15t1v"]
[ext_resource type="PackedScene" uid="uid://djx50pj07yprd" path="res://Assets/Models/Characters/Torro/SK_Torro.fbx" id="10_3cakh"]
[ext_resource type="Material" uid="uid://bliy7hrlk4fc2" path="res://Assets/Models/Characters/Torro/M_Torro.tres" id="11_r2fl8"]
[ext_resource type="AnimationLibrary" uid="uid://buud23ywud8vn" path="res://Assets/Models/Characters/Torro/Animations/A_Male_MaleSelectionFinal2.fbx" id="12_46pkm"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_6o7ca"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_b0uxk"]
sky_material = SubResource("ProceduralSkyMaterial_6o7ca")

[sub_resource type="Environment" id="Environment_5grhe"]
background_mode = 2
sky = SubResource("Sky_b0uxk")
tonemap_mode = 2

[sub_resource type="Animation" id="Animation_7vrx6"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Fadeout:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Fadeout/TextureRect:texture:gradient:offsets")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [PackedFloat32Array(0.95, 1)]
}

[sub_resource type="Animation" id="Animation_sewua"]
resource_name = "transition"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Fadeout:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.233333),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Fadeout/TextureRect:texture:gradient:offsets")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.233, 0.966667, 1.4935),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [PackedFloat32Array(0.95, 1), PackedFloat32Array(0, 1), PackedFloat32Array(0, 0.03)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_0u8dr"]
_data = {
"RESET": SubResource("Animation_7vrx6"),
"transition": SubResource("Animation_sewua")
}

[sub_resource type="LabelSettings" id="LabelSettings_wwm67"]
font_size = 33
font_color = Color(0.945784, 0.94496, 0.919429, 1)
outline_size = 11
outline_color = Color(0.0605303, 0.0605303, 0.0605303, 1)

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_hdpsm"]
blend_mode = 2

[node name="Controller Selection" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_0uy7a")
script = ExtResource("1_p31u7")

[node name="TextureRect" type="ColorRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.105882, 0.0823529, 0.109804, 1)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5grhe")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_0u8dr")
}

[node name="Lead" type="VBoxContainer" parent="."]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = -1
anchor_right = 0.5
anchor_bottom = 1.0
grow_vertical = 2
size_flags_horizontal = 6
size_flags_vertical = 4

[node name="Label" type="Label" parent="Lead"]
layout_mode = 2
size_flags_horizontal = 4
text = "Press a Controller Button"

[node name="CharacterLabel1" type="VBoxContainer" parent="."]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = -1
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 259.0
offset_top = 581.0
offset_right = -185.0
offset_bottom = -15.0
grow_vertical = 2
size_flags_horizontal = 6
size_flags_vertical = 4

[node name="CharacterLabel2" type="VBoxContainer" parent="."]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = -1
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 739.0
offset_top = 577.0
offset_right = 279.0
offset_bottom = -21.0
grow_vertical = 2
size_flags_horizontal = 6
size_flags_vertical = 4

[node name="Follow" type="VBoxContainer" parent="."]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 2
size_flags_horizontal = 6
size_flags_vertical = 4

[node name="Label" type="Label" parent="Follow"]
layout_mode = 2
size_flags_horizontal = 4
text = "Waiting..."

[node name="Version2" type="HBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="LeadPortrait" type="TextureRect" parent="Version2"]
unique_name_in_owner = true
self_modulate = Color(0.24342, 0.210277, 0.169005, 1)
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("2_axnes")
expand_mode = 1

[node name="MaskRect" type="TextureRect" parent="Version2/LeadPortrait"]
clip_children = 1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("3_q4yxf")
expand_mode = 1

[node name="SubViewportContainer2" type="SubViewportContainer" parent="Version2/LeadPortrait/MaskRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="Version2/LeadPortrait/MaskRect/SubViewportContainer2"]
transparent_bg = true
handle_input_locally = false
size = Vector2i(2, 2)
render_target_update_mode = 4

[node name="Camera3D2" type="Camera3D" parent="Version2/LeadPortrait/MaskRect/SubViewportContainer2/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 1.19209e-07, 1.25007, 2.59657)
cull_mask = 1048573

[node name="Pluma" type="Node3D" parent="Version2/LeadPortrait/MaskRect/SubViewportContainer2/SubViewport"]
transform = Transform3D(0.7, 0, 0, 0, 0.7, 0, 0, 0, 0.7, -0.332351, -2.53062, 0)

[node name="rig" type="Node3D" parent="Version2/LeadPortrait/MaskRect/SubViewportContainer2/SubViewport/Pluma"]

[node name="DeformationSystem" parent="Version2/LeadPortrait/MaskRect/SubViewportContainer2/SubViewport/Pluma/rig" instance=ExtResource("5_541qc")]

[node name="Skeleton3D" parent="Version2/LeadPortrait/MaskRect/SubViewportContainer2/SubViewport/Pluma/rig/DeformationSystem" index="0"]
bones/4/rotation = Quaternion(-8.27181e-25, -1.10592e-24, -0.177777, 0.984071)
bones/7/rotation = Quaternion(0, -6.20385e-25, -0.157591, 0.987504)
bones/8/rotation = Quaternion(0.115294, -0.00281205, 0.317431, 0.941242)
bones/9/rotation = Quaternion(0.149311, -0.0318038, 0.0526318, 0.986876)
bones/10/rotation = Quaternion(0.149311, -0.0275536, 0.0549762, 0.986876)
bones/11/rotation = Quaternion(-0.0734567, 0.0287144, 0.36294, 0.928469)
bones/20/rotation = Quaternion(0.235101, 0.622139, -0.265257, 0.698076)
bones/21/rotation = Quaternion(-0.0160859, -1.23921e-35, 0, 0.999871)
bones/22/rotation = Quaternion(-0.0160859, -1.23921e-35, 0, 0.999871)
bones/23/rotation = Quaternion(-0.0160205, 0.00144844, 0.0900328, 0.995809)
bones/26/rotation = Quaternion(-0.331104, -0.110858, 0.170582, 0.921402)
bones/27/rotation = Quaternion(0.0101305, 0.0489387, -0.128192, 0.990489)
bones/28/rotation = Quaternion(-0.0150251, -0.119214, 0.0417745, 0.991876)
bones/29/rotation = Quaternion(0.0103682, 0.109453, -0.0793787, 0.990763)
bones/32/rotation = Quaternion(0.0330612, 0.119048, -0.0351432, 0.991715)
bones/33/rotation = Quaternion(-0.00929041, -0.0359859, 0.0171735, 0.999162)
bones/35/rotation = Quaternion(0.00984337, -0.0826642, -0.0946646, 0.992022)
bones/36/rotation = Quaternion(-0.0074783, 0.0621239, 0.0173832, 0.997889)
bones/37/rotation = Quaternion(-0.0195308, 0.0413106, -0.0216912, 0.99872)
bones/40/rotation = Quaternion(0.150248, -0.0768043, -0.32693, 0.929862)
bones/41/rotation = Quaternion(0.0779172, 0.210862, -0.0149488, 0.974291)
bones/42/rotation = Quaternion(-0.0839237, -0.313567, -0.0123794, 0.945769)
bones/44/rotation = Quaternion(0.220545, -0.0254113, -0.284428, 0.932639)
bones/45/rotation = Quaternion(-0.0122338, -0.0523364, -0.0101168, 0.998503)
bones/46/rotation = Quaternion(0.013815, 0.0634851, -0.0353378, 0.997261)
bones/49/rotation = Quaternion(0.236681, 0.616532, -0.262735, 0.703449)
bones/50/rotation = Quaternion(-0.0157877, 2.43248e-35, 0, 0.999875)
bones/51/rotation = Quaternion(-0.0157877, 2.43248e-35, 0, 0.999875)
bones/52/rotation = Quaternion(-0.0157236, 0.00142159, 0.0900332, 0.995814)
bones/55/rotation = Quaternion(-0.331104, -0.110858, 0.170582, 0.921402)
bones/56/rotation = Quaternion(0.0101305, 0.0489387, -0.128192, 0.990489)
bones/57/rotation = Quaternion(-0.0150251, -0.119214, 0.0417745, 0.991876)
bones/58/rotation = Quaternion(0.0103682, 0.109453, -0.0793787, 0.990763)
bones/61/rotation = Quaternion(0.0330612, 0.119048, -0.0351432, 0.991715)
bones/62/rotation = Quaternion(-0.00929041, -0.0359859, 0.0171735, 0.999162)
bones/64/rotation = Quaternion(0.00984337, -0.0826642, -0.0946646, 0.992022)
bones/65/rotation = Quaternion(-0.0074783, 0.0621239, 0.0173832, 0.997889)
bones/66/rotation = Quaternion(-0.0195308, 0.0413106, -0.0216912, 0.99872)
bones/69/rotation = Quaternion(0.150248, -0.0768043, -0.32693, 0.929862)
bones/70/rotation = Quaternion(0.0779172, 0.210862, -0.0149488, 0.974291)
bones/71/rotation = Quaternion(-0.0839237, -0.313567, -0.0123794, 0.945769)
bones/73/rotation = Quaternion(0.220545, -0.0254113, -0.284428, 0.932639)
bones/74/rotation = Quaternion(-0.0122338, -0.0523364, -0.0101168, 0.998503)
bones/75/rotation = Quaternion(0.013815, 0.0634851, -0.0353378, 0.997261)
bones/77/rotation = Quaternion(0.149583, 0.987389, -0.044539, -0.0265511)
bones/80/rotation = Quaternion(2.22305e-24, -2.00334e-24, -0.0136521, 0.999907)
bones/81/rotation = Quaternion(-0.05227, -0.0206369, 0.00565518, 0.998404)
bones/84/rotation = Quaternion(0.987389, -0.149583, 0.0265511, -0.0445389)
bones/87/rotation = Quaternion(1.29247e-25, -1.80943e-25, -0.0136521, 0.999907)
bones/88/rotation = Quaternion(-0.05227, -0.0206369, 0.00565518, 0.998404)

[node name="Female_Character" parent="Version2/LeadPortrait/MaskRect/SubViewportContainer2/SubViewport/Pluma/rig/DeformationSystem/Skeleton3D" index="0"]
layers = 2
material_override = ExtResource("6_kfrui")

[node name="AnimationPlayer2" type="AnimationPlayer" parent="Version2/LeadPortrait/MaskRect/SubViewportContainer2/SubViewport/Pluma/rig/DeformationSystem"]
root_node = NodePath("../../..")
libraries = {
"A_Female_FinalSelection": ExtResource("7_15t1v")
}
autoplay = "A_Female_FinalSelection/A_Female_FinalSelection"

[node name="FollowPortrait" type="TextureRect" parent="Version2"]
unique_name_in_owner = true
self_modulate = Color(0.24342, 0.210277, 0.169005, 1)
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("3_32eal")
expand_mode = 1

[node name="MaskRect" type="TextureRect" parent="Version2/FollowPortrait"]
clip_children = 1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("5_rp6jx")
expand_mode = 1

[node name="SubViewportContainer" type="SubViewportContainer" parent="Version2/FollowPortrait/MaskRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="Version2/FollowPortrait/MaskRect/SubViewportContainer"]
transparent_bg = true
handle_input_locally = false
size = Vector2i(2, 2)
render_target_update_mode = 4

[node name="Camera3D" type="Camera3D" parent="Version2/FollowPortrait/MaskRect/SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 1.19209e-07, 1.25007, 2.59657)
cull_mask = 1048574

[node name="Torro" type="Node3D" parent="Version2/FollowPortrait/MaskRect/SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.068171, -2.95984, 0)

[node name="Group" type="Node3D" parent="Version2/FollowPortrait/MaskRect/SubViewportContainer/SubViewport/Torro"]

[node name="DeformationSystem" parent="Version2/FollowPortrait/MaskRect/SubViewportContainer/SubViewport/Torro/Group" instance=ExtResource("10_3cakh")]

[node name="Skeleton3D" parent="Version2/FollowPortrait/MaskRect/SubViewportContainer/SubViewport/Torro/Group/DeformationSystem" index="0"]
bones/1/rotation = Quaternion(0.493077, 0.506828, 0.493077, 0.506828)
bones/4/rotation = Quaternion(0, 3.88549e-25, -0.0289504, 0.999581)
bones/7/rotation = Quaternion(0, 1.26662e-24, 0.111941, 0.993715)
bones/9/rotation = Quaternion(-0.0553016, 0, 0, 0.99847)
bones/10/rotation = Quaternion(-0.0553016, 0, 0, 0.99847)
bones/11/rotation = Quaternion(-0.0575497, -0.0331066, 0.0234881, 0.997517)
bones/19/rotation = Quaternion(0.0423222, 0.79924, -0.0512968, 0.597322)
bones/23/rotation = Quaternion(-6.20385e-25, 2.68834e-24, 0.0454506, 0.998967)
bones/48/rotation = Quaternion(0.79924, -0.0423222, -0.597322, -0.0512968)
bones/49/rotation = Quaternion(0.219589, 0.483197, -0.14667, 0.834739)
bones/52/rotation = Quaternion(1.65436e-24, 0, 0.0454506, 0.998967)
bones/77/rotation = Quaternion(0.0286099, 0.999296, -0.0153965, 0.0187746)
bones/80/rotation = Quaternion(-1.13737e-24, -4.1359e-25, -0.15229, 0.988336)
bones/81/rotation = Quaternion(0.182612, 0.037884, 0.104763, 0.976853)
bones/84/rotation = Quaternion(0.999296, -0.0286099, -0.0187746, -0.0153965)
bones/87/rotation = Quaternion(1.21792e-08, -1.87666e-09, -0.15229, 0.988336)
bones/88/rotation = Quaternion(0.182612, 0.037884, 0.104763, 0.976853)

[node name="Male_Geometry" parent="Version2/FollowPortrait/MaskRect/SubViewportContainer/SubViewport/Torro/Group/DeformationSystem/Skeleton3D" index="0"]
material_override = ExtResource("11_r2fl8")

[node name="AnimationPlayer" parent="Version2/FollowPortrait/MaskRect/SubViewportContainer/SubViewport/Torro/Group/DeformationSystem" index="1"]
root_node = NodePath("../../..")

[node name="AnimationPlayer2" type="AnimationPlayer" parent="Version2/FollowPortrait/MaskRect/SubViewportContainer/SubViewport/Torro/Group/DeformationSystem"]
root_node = NodePath("../../..")
libraries = {
"A_Male_MaleSelectionFinal2": ExtResource("12_46pkm")
}
autoplay = "A_Male_MaleSelectionFinal2/A_Male_MaleSelectionFinal"

[node name="TextureRect" type="TextureRect" parent="Version2/FollowPortrait/MaskRect/SubViewportContainer"]
layout_mode = 2

[node name="RichTextLabel" type="Label" parent="."]
visible = false
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -159.5
offset_top = -46.0
offset_right = 159.5
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 4
text = "Who you wanna be?"
label_settings = SubResource("LabelSettings_wwm67")

[node name="Fadeout" type="HBoxContainer" parent="."]
visible = false
material = SubResource("CanvasItemMaterial_hdpsm")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 0

[node name="TextureRect" type="TextureRect" parent="Fadeout"]
use_parent_material = true
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("2_28xei")
expand_mode = 1

[node name="TextureRect2" type="TextureRect" parent="Fadeout"]
use_parent_material = true
layout_mode = 2
size_flags_horizontal = 3
texture = ExtResource("2_28xei")
expand_mode = 1

[node name="_Torro_" type="Label" parent="."]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.307292
anchor_top = 1.00154
anchor_right = 0.307292
anchor_bottom = 1.00154
offset_left = -55.0
offset_top = -45.0
offset_right = 55.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 4
text = "\"Torro\"
"

[node name="_Torro_2" type="Label" parent="."]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.698785
anchor_top = 1.00154
anchor_right = 0.698785
anchor_bottom = 1.00154
offset_left = -58.0
offset_top = -45.0
offset_right = 58.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 4
text = "\"Pluma\"
"
metadata/_edit_use_anchors_ = true

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_finished"]

[editable path="Version2/LeadPortrait/MaskRect/SubViewportContainer2/SubViewport/Pluma/rig/DeformationSystem"]
[editable path="Version2/FollowPortrait/MaskRect/SubViewportContainer/SubViewport/Torro/Group/DeformationSystem"]
