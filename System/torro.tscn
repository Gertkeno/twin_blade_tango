[gd_scene load_steps=31 format=3 uid="uid://cm7cstaadjio5"]

[ext_resource type="PackedScene" uid="uid://dk7f2bg8agvlh" path="res://System/base_player.tscn" id="1_mq01p"]
[ext_resource type="PackedScene" uid="uid://djx50pj07yprd" path="res://Assets/Models/Characters/Torro/SK_Torro.fbx" id="2_s0t5n"]
[ext_resource type="AnimationLibrary" uid="uid://dj7c451nnwucx" path="res://Assets/Models/Characters/Torro/Animations/A_Male_Attack.fbx" id="3_3a54i"]
[ext_resource type="Texture2D" uid="uid://dgwqphd3006df" path="res://Assets/Materials/T_Torro.png" id="3_eq8e7"]
[ext_resource type="AnimationLibrary" uid="uid://bg36bu5a6mbqp" path="res://Assets/Models/Characters/Torro/Animations/A_Male_Death.fbx" id="4_e4a0g"]
[ext_resource type="AnimationLibrary" uid="uid://bt33pyssfghk5" path="res://Assets/Models/Characters/Torro/Animations/A_Male_StrafeLeft.fbx" id="5_8tmnt"]
[ext_resource type="AnimationLibrary" uid="uid://50igijtk0xlr" path="res://Assets/Models/Characters/Torro/Animations/A_Male_Idle.fbx" id="6_0hu0n"]
[ext_resource type="AnimationLibrary" uid="uid://ctliqyfgl7jao" path="res://Assets/Models/Characters/Torro/Animations/A_Male_Flourish.fbx" id="6_424b1"]
[ext_resource type="AnimationLibrary" uid="uid://cs0gnoix4rt5b" path="res://Assets/Models/Characters/Torro/Animations/A_Male_StrafeRight.fbx" id="6_pksqj"]
[ext_resource type="AnimationLibrary" uid="uid://bi8nwcte5v6wd" path="res://Assets/Models/Characters/Torro/Animations/A_Male_WalkBackwards.fbx" id="7_rdetl"]
[ext_resource type="AnimationLibrary" uid="uid://bsqnq1b7pq0mp" path="res://Assets/Models/Characters/Torro/Animations/A_Male_WalkForwards.fbx" id="8_2nq62"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_euwci"]
albedo_texture = ExtResource("3_eq8e7")

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8a1of"]
animation = &"A_Male_Death/A_Male_Death"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hbgw5"]
animation = &"A_Male_Attack/A_Male_Attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pc5r1"]
animation = &"A_Male_Flourish/Male Flourish"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5m1l0"]
animation = &"A_Male_WalkBackwards/A_Male_WalkBackwards"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yyptk"]
animation = &"A_Male_WalkForwards/A_Male_WalkForwards"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_o4vqe"]
animation = &"A_Male_StrafeLeft/A_Male_StrafeLeft"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_k54ly"]
animation = &"A_Male_StrafeRight/A_Male_StrafeRight"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oemdw"]
animation = &"A_Male_Idle/A_Male_Idle"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_3g6sh"]
blend_point_0/node = SubResource("AnimationNodeAnimation_5m1l0")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_yyptk")
blend_point_1/pos = Vector2(0, -1)
blend_point_2/node = SubResource("AnimationNodeAnimation_o4vqe")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_k54ly")
blend_point_3/pos = Vector2(1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_oemdw")
blend_point_4/pos = Vector2(0, 0)

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yuwx1"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yr5s0"]
advance_mode = 2
advance_condition = &"died"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nbkus"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kq7yc"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4ufdy"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_q20fh"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7nk3l"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_7mqn4"]
states/A_Male_Death_A_Male_Death/node = SubResource("AnimationNodeAnimation_8a1of")
states/A_Male_Death_A_Male_Death/position = Vector2(567, 13)
states/Attack/node = SubResource("AnimationNodeAnimation_hbgw5")
states/Attack/position = Vector2(556, 173)
states/Flourish/node = SubResource("AnimationNodeAnimation_pc5r1")
states/Flourish/position = Vector2(319, 221)
states/Walk/node = SubResource("AnimationNodeBlendSpace2D_3g6sh")
states/Walk/position = Vector2(427, 100)
transitions = ["Start", "Walk", SubResource("AnimationNodeStateMachineTransition_yuwx1"), "Walk", "A_Male_Death_A_Male_Death", SubResource("AnimationNodeStateMachineTransition_yr5s0"), "Walk", "Attack", SubResource("AnimationNodeStateMachineTransition_nbkus"), "Attack", "Walk", SubResource("AnimationNodeStateMachineTransition_kq7yc"), "Walk", "Flourish", SubResource("AnimationNodeStateMachineTransition_4ufdy"), "Flourish", "Attack", SubResource("AnimationNodeStateMachineTransition_q20fh"), "Flourish", "Walk", SubResource("AnimationNodeStateMachineTransition_7nk3l")]
graph_offset = Vector2(123, 22)

[sub_resource type="ViewportTexture" id="ViewportTexture_mbje7"]
viewport_path = NodePath("Sprite3D/Healthbar2D")

[node name="LeadTorro" node_paths=PackedStringArray("animator_tree") instance=ExtResource("1_mq01p")]
animator_tree = NodePath("Model/AnimationTree")

[node name="HandTemp" parent="." index="1"]
transform = Transform3D(0.11394, 0.0189818, 0.431476, -0.426415, 0.0757968, 0.109269, -0.068575, -0.439783, 0.0374559, 0.493906, 0.928874, -0.162033)
bone_name = "Cup_R"
bone_idx = 39
use_external_skeleton = true
external_skeleton = NodePath("../Model/Group/DeformationSystem/Skeleton3D")

[node name="Model" type="Node3D" parent="." index="4"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)

[node name="Group" type="Node3D" parent="Model" index="0"]
transform = Transform3D(0.446, 0, 0, 0, 0.446, 0, 0, 0, 0.446, 0, 0, 0)

[node name="DeformationSystem" parent="Model/Group" index="0" instance=ExtResource("2_s0t5n")]

[node name="Skeleton3D" parent="Model/Group/DeformationSystem" index="0"]
bones/1/position = Vector3(-0.0161379, 2.36286, -0.220539)
bones/1/rotation = Quaternion(0.541111, 0.536668, 0.441733, 0.473348)
bones/2/position = Vector3(0.266292, -0.0341864, 0.00767969)
bones/2/rotation = Quaternion(-0.00370011, -0.0135504, -0.0609136, 0.998044)
bones/2/scale = Vector3(0.997311, 0.997311, 0.997311)
bones/3/position = Vector3(0.270105, 3.49343e-07, -4.61679e-08)
bones/3/rotation = Quaternion(-0.000112079, 0.0175225, 0.080762, 0.996579)
bones/3/scale = Vector3(0.999306, 0.999306, 0.999306)
bones/4/position = Vector3(0.262824, -2.78983e-05, -0.000249656)
bones/4/rotation = Quaternion(-0.00120274, 0.0165047, 0.0463835, 0.998787)
bones/4/scale = Vector3(0.999678, 0.999678, 0.999678)
bones/5/position = Vector3(0.125987, 6.76094e-05, 0.000257681)
bones/5/rotation = Quaternion(-0.00140307, 0.0101621, 0.0465908, 0.998861)
bones/5/scale = Vector3(1.00272, 1.00272, 1.00272)
bones/6/position = Vector3(0.125492, 3.37537e-08, 1.06716e-07)
bones/6/rotation = Quaternion(-0.000705286, 0.00635518, 0.0301627, 0.999525)
bones/6/scale = Vector3(1.00249, 1.00249, 1.00249)
bones/7/position = Vector3(0.126607, -3.90075e-05, 2.22016e-06)
bones/7/rotation = Quaternion(0.000340717, 0.00153216, 0.119888, 0.992786)
bones/8/position = Vector3(0.313521, 8.88178e-16, 1.20856e-15)
bones/8/rotation = Quaternion(-0.00144805, 0.00135684, 0.00967168, 0.999951)
bones/9/rotation = Quaternion(-0.0170196, 0.00148234, -0.0110929, 0.999793)
bones/10/rotation = Quaternion(-0.0170196, 0.00182741, -0.0110414, 0.999793)
bones/11/position = Vector3(0.135608, -0.0641816, -0.0111074)
bones/11/rotation = Quaternion(-0.00926562, 0.0512534, -0.128105, 0.990392)
bones/19/rotation = Quaternion(0.0497196, 0.838268, 0.0173607, 0.542709)
bones/20/rotation = Quaternion(0.33342, 0.341266, 0.0744506, 0.875686)
bones/21/position = Vector3(0.249841, 4.70747e-06, -9.32117e-07)
bones/21/rotation = Quaternion(-0.0571851, 1.17018e-35, 0, 0.998364)
bones/22/position = Vector3(0.249841, 4.77963e-06, -4.292e-07)
bones/22/rotation = Quaternion(-0.0571851, 1.17018e-35, 0, 0.998364)
bones/23/position = Vector3(0.249841, 4.79822e-06, 7.85285e-08)
bones/23/rotation = Quaternion(-0.0587576, 0.0627416, 0.158975, 0.983534)
bones/24/rotation = Quaternion(0.13111, -1.42036e-35, 0, 0.991368)
bones/25/rotation = Quaternion(0.13111, -1.42036e-35, 0, 0.991368)
bones/26/rotation = Quaternion(-0.163576, -0.0328798, -0.0827842, 0.982501)
bones/36/rotation = Quaternion(-6.93889e-18, -2.73219e-17, 1.73472e-18, 1)
bones/48/rotation = Quaternion(0.823149, -0.126471, -0.545636, 0.0933402)
bones/49/rotation = Quaternion(0.320828, 0.344965, 0.0492941, 0.880703)
bones/50/position = Vector3(-0.249841, 2.22045e-16, -6.66134e-16)
bones/50/rotation = Quaternion(-0.0547855, -2.06795e-25, 4.1359e-25, 0.998498)
bones/51/position = Vector3(-0.249841, 1.11022e-16, -2.22045e-16)
bones/51/rotation = Quaternion(-0.0547855, -2.06795e-25, 4.1359e-25, 0.998498)
bones/52/position = Vector3(-0.249841, 3.33067e-16, -2.22045e-16)
bones/52/rotation = Quaternion(-0.0561706, 0.0486628, 0.133336, 0.988281)
bones/53/rotation = Quaternion(0.147696, -2.06795e-25, 1.03398e-25, 0.989033)
bones/54/rotation = Quaternion(0.147696, -2.06795e-25, 1.03398e-25, 0.989033)
bones/55/rotation = Quaternion(-0.176363, -0.12465, -0.113261, 0.96981)
bones/77/rotation = Quaternion(0.227691, 0.973621, -0.0104214, -0.0105364)
bones/78/rotation = Quaternion(0.0343275, 9.04729e-26, 1.9387e-25, 0.999411)
bones/79/rotation = Quaternion(0.0343275, 9.04729e-26, 1.9387e-25, 0.999411)
bones/80/rotation = Quaternion(0.030805, 0.0141475, -0.417116, 0.908221)
bones/81/rotation = Quaternion(0.255461, 0.00925862, 0.194301, 0.947049)
bones/84/rotation = Quaternion(0.953922, -0.232073, -0.189544, -0.0157639)
bones/85/rotation = Quaternion(0.015175, -3.23118e-27, -1.48432e-26, 0.999885)
bones/86/rotation = Quaternion(0.015175, -3.23118e-27, -1.48432e-26, 0.999885)
bones/87/rotation = Quaternion(0.0142789, 0.00498545, -0.329583, 0.944005)
bones/88/rotation = Quaternion(0.22745, 0.154569, 0.0477299, 0.960259)

[node name="Male_Geometry" parent="Model/Group/DeformationSystem/Skeleton3D" index="0"]
material_override = SubResource("StandardMaterial3D_euwci")
lod_bias = 4.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="Model" index="1"]
libraries = {
"A_Male_Attack": ExtResource("3_3a54i"),
"A_Male_Death": ExtResource("4_e4a0g"),
"A_Male_Flourish": ExtResource("6_424b1"),
"A_Male_Idle": ExtResource("6_0hu0n"),
"A_Male_StrafeLeft": ExtResource("5_8tmnt"),
"A_Male_StrafeRight": ExtResource("6_pksqj"),
"A_Male_WalkBackwards": ExtResource("7_rdetl"),
"A_Male_WalkForwards": ExtResource("8_2nq62")
}

[node name="AnimationTree" type="AnimationTree" parent="Model" index="2"]
tree_root = SubResource("AnimationNodeStateMachine_7mqn4")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/died = false
parameters/Walk/blend_position = Vector2(0, 0)

[node name="Sprite3D" parent="." index="6"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 2.25623, 0)
texture = SubResource("ViewportTexture_mbje7")

[editable path="Model/Group/DeformationSystem"]
